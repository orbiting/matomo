<div class="pluginSettings">

    <div ng-repeat="settings in pluginSettings.settingsPerPlugin"
         class="card"
          id="{{ settings.pluginName }}PluginSettings">

        <div class="card-content">
            <h2 id="{{ settings.pluginName }}" class="card-title">{{ settings.title }}</h2>

            <div ng-repeat="setting in settings.settings">
                <div piwik-form-field="setting" all-settings="settings.settings"></div>
            </div>

            <input type="button" ng-click="pluginSettings.save(settings)"
                   ng-disabled="pluginSettings.isLoading"
                   value="{{ 'General_Save'|translate }}"
                   class="pluginsSettingsSubmit btn"/>

            <div piwik-activity-indicator loading="pluginSettings.isLoading || pluginSettings.isSaving[settings.pluginName]"></div>

        </div>

    </div>

    <div class="confirm-password-modal modal">
        <div class="modal-content">
            <h2>{{:: 'UsersManager_ConfirmWithPassword'|translate }}</h2>

            <div piwik-field uicontrol="password" name="currentUserPassword" autocomplete="off"
                 ng-model="pluginSettings.passwordConfirmation"
                 full-width="true"
                 title="{{:: 'UsersManager_YourCurrentPassword'|translate }}"
                 value="">
            </div>
        </div>
        <div class="modal-footer">
            <a href="" class="modal-action modal-close btn" ng-disabled="!pluginSettings.passwordConfirmation" ng-click="pluginSettings.save()">{{:: 'General_Yes'|translate }}</a>
            <a href="" class="modal-action modal-close modal-no">{{:: 'General_No'|translate }}</a>
        </div>
    </div>
</div>
